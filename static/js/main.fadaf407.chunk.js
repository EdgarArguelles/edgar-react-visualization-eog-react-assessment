(this["webpackJsonpeog-react-visualization-base"]=this["webpackJsonpeog-react-visualization-base"]||[]).push([[0],{236:function(e,t,r){e.exports=r(390)},390:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(21),i=r.n(c),u=r(37),o=r(121),l=r(224),s=r(36),m=r.n(s),f=r(57),p=r(78),d=r(199),b=r(95);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}var v=Object(b.a)({name:"weather",initialState:{metrics:[],realtimeMeasurements:[],historyMeasurements:[]},reducers:{changeSelection:function(e,t){e.metrics.forEach((function(e){return e.isSelected=t.payload.includes(e.name)})),e.realtimeMeasurements=t.payload.map((function(t){return e.realtimeMeasurements.find((function(e){return e.metric===t}))||{metric:t,value:0,at:0,unit:""}})),e.historyMeasurements=t.payload.map((function(t){return e.historyMeasurements.find((function(e){return e.metric===t}))||{metric:t,unit:"",measurements:[]}}))},setMeasurementHistory:function(e,t){e.historyMeasurements=t.payload.map((function(e){var t=e.measurements[0];return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(r,!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{unit:t?t.unit:""})}))},setRealtimeMeasurements:function(e,t){e.realtimeMeasurements=e.realtimeMeasurements.map((function(e){return e.metric===t.payload.metric?t.payload:e}));var r=e.historyMeasurements.find((function(e){return e.metric===t.payload.metric}));r&&r.measurements.length&&r.measurements.push(t.payload)},metricsDataReceived:function(e,t){e.metrics=t.payload.map((function(e){return{name:e,isSelected:!1}}))},apiErrorReceived:function(e,t){return e}}}),E=v.reducer,O=v.actions,y=m.a.mark(j),g=m.a.mark(w);function j(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.a)(p.b.error,"Error Received: ".concat(e.payload.error));case 2:case"end":return t.stop()}}),y)}function w(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)(O.apiErrorReceived.type,j);case 2:case"end":return e.stop()}}),g)}var M=Object(b.a)({name:"weather",initialState:{temperatureinCelsius:0,temperatureinFahrenheit:0,description:"",locationName:""},reducers:{weatherDataRecevied:function(e,t){var r=t.payload,a=r.description,n=r.locationName,c=r.temperatureinCelsius;e.temperatureinCelsius=c,e.temperatureinFahrenheit=9*c/5+32,e.description=a,e.locationName=n},weatherApiErrorReceived:function(e,t){return e}}}),x=M.reducer,k=M.actions,R=m.a.mark(N),S=m.a.mark(D);function N(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.a)(p.b.error,"Error Received: ".concat(e.payload.error));case 2:case"end":return t.stop()}}),R)}function D(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)(k.weatherApiErrorReceived.type,N);case 2:case"end":return e.stop()}}),S)}var A=m.a.mark(q);function q(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)(w);case 2:return e.next=4,Object(f.b)(D);case 4:case"end":return e.stop()}}),A)}var F={dashboard:E,weather:x},C=Object(u.combineReducers)(F),P=r(31),L=r(221),W=r(448),z=r(449),Y=(r(247),r(136)),$=r(435),I=r(436),T=r(202),G=r(26),H=r(223),J=r(33),K=r(200),Q=Object(J.b)({url:"https://react.eogresources.com/graphql"}),V=function(){var e="wss://react.eogresources.com/graphql",t=new K.SubscriptionClient(e,{reconnect:!0});return Object(J.b)({url:e,exchanges:[].concat(Object(H.a)(J.c),[Object(J.d)({forwardSubscription:function(e){return t.request(e)}})])})},B=r(455),U=r(434),X=r(454),Z=r(7),_=Object(Z.a)((function(e){return{root:{background:e.palette.secondary.main},label:{color:e.palette.primary.main}}}))(X.a),ee=function(e){var t=e.weather;return{temperatureinFahrenheit:t.temperatureinFahrenheit,description:t.description,locationName:t.locationName}},te=function(){return n.a.createElement(J.a,{value:Q},n.a.createElement(re,null))},re=function(){var e=Object(B.a)(),t={latitude:e.latitude||29.7604,longitude:e.longitude||-95.3698},r=Object(P.b)(),c=Object(P.c)(ee),i=c.temperatureinFahrenheit,u=c.description,o=c.locationName,l=Object(J.e)({query:"\nquery($latLong: WeatherQuery!) {\n  getWeatherForLocation(latLong: $latLong) {\n    description\n    locationName\n    temperatureinCelsius\n  }\n}\n",variables:{latLong:t}}),s=Object(G.a)(l,1)[0],m=s.fetching,f=s.data,p=s.error;return Object(a.useEffect)((function(){if(p)r(k.weatherApiErrorReceived({error:p.message}));else if(f){var e=f.getWeatherForLocation;r(k.weatherDataRecevied(e))}}),[r,f,p]),m?n.a.createElement(U.a,null):n.a.createElement(_,{label:"Weather in ".concat(o,": ").concat(u," and ").concat(i,"\xb0")})},ae=Object(T.a)({grow:{flexGrow:1}}),ne=function(){var e=ae();return n.a.createElement($.a,{position:"static"},n.a.createElement(I.a,null,n.a.createElement(Y.a,{variant:"h6",color:"inherit",className:e.grow},"edgar-react-visualization's"," EOG React Visualization Assessment"),n.a.createElement(te,null)))},ce=Object(T.a)({wrapper:{height:"100vh"}}),ie=function(e){var t=e.children,r=ce();return a.createElement("div",{className:r.wrapper},t)},ue=r(440),oe=r(437),le=r(456),se=r(450),me=r(438),fe=r(457),pe=r(453),de=r(439),be=Object(T.a)({select:{margin:20,minWidth:"80%"},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}),he=function(){return n.a.createElement(J.a,{value:Q},n.a.createElement(ve,null))},ve=function(){var e=Object(P.b)(),t=be(),r=Object(P.c)((function(e){return e.dashboard.metrics})),c=Object(J.e)({query:"\nquery {\n  getMetrics\n}\n"}),i=Object(G.a)(c,1)[0],u=i.fetching,o=i.data,l=i.error;return Object(a.useEffect)((function(){if(l)e(O.apiErrorReceived({error:l.message}));else if(o){var t=o.getMetrics;e(O.metricsDataReceived(t))}}),[e,o,l]),u?n.a.createElement(U.a,null):n.a.createElement(oe.a,{className:t.select},n.a.createElement(le.a,null,"Metrics"),n.a.createElement(se.a,{multiple:!0,value:r.filter((function(e){return e.isSelected})).map((function(e){return e.name})),onChange:function(t){return e(O.changeSelection(t.target.value))},input:n.a.createElement(me.a,null),renderValue:function(e){return n.a.createElement("div",{className:t.chips},e.map((function(e){return n.a.createElement(X.a,{key:e,label:e,className:t.chip})})))}},r.map((function(e){var t=e.name;return n.a.createElement(fe.a,{key:t,value:t},n.a.createElement(pe.a,{checked:!!r.find((function(e){return e.name===t&&e.isSelected}))}),n.a.createElement(de.a,{primary:t}))}))))},Ee=r(441),Oe=r(442),ye=Object(T.a)({card:{padding:10}}),ge=function(){return n.a.createElement(J.a,{value:V()},n.a.createElement(je,null))},je=function(){var e=Object(P.b)(),t=ye(),r=Object(P.c)((function(e){return e.dashboard.metrics})),c=Object(P.c)((function(e){return e.dashboard.realtimeMeasurements})),i=Object(J.f)({query:"\nsubscription {\n    newMeasurement {\n      metric\n      value\n      at\n      unit\n    }\n  }\n"}),u=Object(G.a)(i,1)[0],o=u.data,l=u.error;return Object(a.useEffect)((function(){if(l)e(O.apiErrorReceived({error:l.message}));else if(o){var t=o.newMeasurement;r.find((function(e){return e.name===t.metric&&e.isSelected}))&&e(O.setRealtimeMeasurements(t))}}),[e,o,l,r]),n.a.createElement(ue.a,{container:!0,spacing:2},c.map((function(e){return n.a.createElement(ue.a,{item:!0,sm:12,md:6,lg:4,key:e.metric},n.a.createElement(Ee.a,{elevation:3,className:t.card},n.a.createElement(Oe.a,null,n.a.createElement(Y.a,{variant:"h6"},e.metric),n.a.createElement(Y.a,{variant:"h3"},e.value))))})))},we=r(156),Me=r.n(we),xe=r(203),ke=r.n(xe),Re=r(204),Se=r(443),Ne=r(444),De=r(220),Ae=r(107),qe=r(103),Fe=r(225),Ce=function(){var e=Object(P.c)((function(e){return e.dashboard.historyMeasurements})).filter((function(e){return e.measurements.length})),t=["purple","red","orange","brown","blue","green"];return n.a.createElement(Se.a,null,n.a.createElement(Ne.a,null,n.a.createElement(De.a,{dataKey:"at",tick:function(e){var t=e.x,r=e.y,a=e.payload;return n.a.createElement("text",{x:t-20,y:r+15},Me()(a.value).format("hh:mm"))},tickCount:13,type:"number",domain:["left","right"]}),Array.from(new Set(e.filter((function(e){return e.unit})).map((function(e){return e.unit})))).map((function(e){var t="%"===e?5:10,r="%"===e?[0,10,20,30,40,50,60,70,80,90,100]:[];return n.a.createElement(Re.a,{key:e,yAxisId:e,domain:["auto","auto"],tickCount:t,ticks:r,label:{value:e,angle:-90,position:"insideTopLeft",dy:10},tickFormatter:function(e){return e>999?ke()(e).format("0.0 a"):e}})})),n.a.createElement(Ae.a,{labelFormatter:function(e){return Me()(e).format("MMM DD YYYY h:mm:ss A")}}),n.a.createElement(qe.a,null),e.map((function(e,r){return n.a.createElement(Fe.a,{type:"monotone",dataKey:"value",dot:!1,isAnimationActive:!1,stroke:t[r],name:e.metric,key:e.metric,data:e.measurements,yAxisId:e.unit})}))))},Pe=Object(T.a)({chart:{width:"100%",height:500}}),Le=function(){return n.a.createElement(J.a,{value:Q},n.a.createElement(We,null))},We=function(){var e=Pe(),t=Object(P.b)(),r=Object(P.c)((function(e){return e.dashboard.metrics})),c=Object(a.useState)((new Date).getTime()-18e5),i=Object(G.a)(c,1)[0],u=r.filter((function(e){return e.isSelected})).map((function(e){return{metricName:e.name,after:i}})),o=Object(J.e)({query:"\nquery($input: [MeasurementQuery]) {\n  getMultipleMeasurements(input: $input)  {\n    metric\n    measurements {\n      metric\n      value\n      at\n      unit\n    }\n  }\n}\n",variables:{input:u}}),l=Object(G.a)(o,1)[0],s=l.data,m=l.error;return Object(a.useEffect)((function(){if(m)t(O.apiErrorReceived({error:m.message}));else if(s){var e=s.getMultipleMeasurements;t(O.setMeasurementHistory(e))}}),[t,s,m]),n.a.createElement("div",{className:e.chart},n.a.createElement(Ce,null))},ze=Object(T.a)({grid:{width:"100%"},select:{textAlign:"right"}}),Ye=function(){var e=ze(),t=!!Object(P.c)((function(e){return e.dashboard.metrics})).filter((function(e){return e.isSelected})).length;return n.a.createElement(ue.a,{container:!0,spacing:5,className:e.grid},n.a.createElement(ue.a,{item:!0,xs:6},t&&n.a.createElement(ge,null)),n.a.createElement(ue.a,{item:!0,xs:6,className:e.select},n.a.createElement(he,null)),n.a.createElement(ue.a,{item:!0,xs:12},t&&n.a.createElement(Le,null)))},$e=function(){var e=Object(o.composeWithDevTools)({}),t=Object(l.a)(),r=Object(u.applyMiddleware)(t),a=Object(u.createStore)(C,e(r));return t.run(q),a}(),Ie=Object(L.a)({palette:{primary:{main:"rgb(39,49,66)"},secondary:{main:"rgb(197,208,222)"},background:{default:"rgb(226,231,238)"}}}),Te=function(){return n.a.createElement(W.a,{theme:Ie},n.a.createElement(z.a,null),n.a.createElement(P.a,{store:$e},n.a.createElement(ie,null,n.a.createElement(ne,null),n.a.createElement(Ye,null),n.a.createElement(p.a,null))))};i.a.render(n.a.createElement(Te,null),document.getElementById("root"))}},[[236,1,2]]]);
//# sourceMappingURL=main.fadaf407.chunk.js.map